<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title> Wishlist</title>
    <script src="jquery.js"></script>
    <script type="text/javascript">

     $(document).ready(function() {
         $("button").click(function () {
             $.ajax({
                 type: "GET",
                 url: "searchExp",
                 data: {
                     origin: $("#origin").val(),
                     dest: $("#dest").val(),
                     departure: $("#departure").val(),
                     arrival: $("#arrival").val(),
                 },
                 success: function (data) {
                     $("#results").empty();
                     for(var i=0; i<data.searchResultList.length; i++){
                         $("#results").append('<div>Price :' + data.searchResultList[i].price + '</br>');
                         for (var j=0; j<data.searchResultList[i].legList.length; j++) {
                             var leg = data.searchResultList[i].legList[j];
                             $("#results").append('Departure Time : ' +getDateTime(leg.departureTime)
                                     +' | Arrival Time: '+getDateTime(leg.arrivalTime)+ '<br>');
                             $("#results").append('Duration: '+getTime(leg.duration)+' | Layover: '+getTime(leg.layover)
                                     + '<br>');
                             for (var k=0; k<leg.segments.length; k++){
                                 segment = leg.segments[k];
                                 $("#results").append(segment.departureAirportLocation+'('+segment.departureAirportCode+') -> '
                                         + segment.arrivalAirportLocation +'('+segment.arrivalAirportCode+')  | Flight No: '
                                         +segment.airlineName+ ' '+segment.flightNumber+'<br>');
                             }
                             $("#results").append('<br>');
                         }
                         $("#results").append('<br><br></div>');
                     }
                 },
                 error: function(data) {
                     //Do Something to handle error
                 }
             });
         });
     });

    function getTime(time) {
        return time.hour+' hr ' + time.minute + ' min'
    }

    function getDateTime(dateTime) {
        return +dateTime.dayOfMonth+' '+dateTime.month+' '+dateTime.hour+':'+dateTime.minute
    }
    </script>
</head>
<body>

    Origin<br>
    <input type="text" id="origin" value="CHI"><br>
    Destination:<br>
    <input type="text" id="dest" value="SEA"><br><br>
    Departure<br>
    <input type="text" id="departure" value="2016-04-20"><br>
    Arrival:<br>
    <input type="text" id="arrival" value="2016-05-02"><br><br>
    <button type="button" >Search</button>

    <div id="results">

    </div>
</body>
</html>